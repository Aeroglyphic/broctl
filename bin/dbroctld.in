#!/usr/bin/env python

BroBase = "@PREFIX@"

import os
import sys

BroBase = "@PREFIX@"

# Allow user to override default broctl install directory
tmpbrobase = os.getenv("BROCTL_INSTALL_PREFIX")
if tmpbrobase and os.path.isdir(tmpbrobase):
    BroBase = tmpbrobase

sys.path = [os.path.join(BroBase, "lib/broctl")] + sys.path

from BroControl import dbroctld

# Hidden command to print the documentation.
broctlprintdoc = False
if len(sys.argv) == 3 and sys.argv[1] == "--print-doc":
    broctlprintdoc = True
    sys.path = [BroBase] + sys.path

sys.path = [os.path.join(BroBase, "lib/broctl")] + sys.path

if __name__ == "__main__":
    dbroctld.main(BroBase)
